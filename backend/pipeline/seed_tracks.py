"""
SilverWall - Track Geometry Seeder
Seeds common F1 circuit geometries into Supabase to ensure maps 
are available for countdowns throughout the season.
"""

import asyncio
import sys
import os

# Add parent directory to path so we can import 'database'
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from database import save_track_geometry

# Principal Circuit Geometries (Normalized 0-1)
# Note: These are representative samples. 
# The system will "perfect" them via Autonomous Learning during live sessions.
TRACKS = [
    {
        "circuit_key": "albert_park",
        "name": "Albert Park Circuit",
        "location": "Melbourne",
        "country": "Australia",
        "points": [{"x": 0.7705, "y": 0.3338}, {"x": 0.8364, "y": 0.01}, {"x": 0.572, "y": 0.0982}, {"x": 0.2874, "y": 0.4409}, {"x": 0.0868, "y": 0.7373}, {"x": 0.2708, "y": 0.9583}, {"x": 0.5586, "y": 0.8101}, {"x": 0.6334, "y": 0.3756}, {"x": 0.9119, "y": 0.0991}, {"x": 0.733, "y": 0.0582}, {"x": 0.5497, "y": 0.1321}, {"x": 0.4497, "y": 0.2286}, {"x": 0.4464, "y": 0.2318}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4457, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4422, "y": 0.2358}, {"x": 0.2843, "y": 0.3797}, {"x": 0.0798, "y": 0.7083}, {"x": 0.2863, "y": 0.9651}, {"x": 0.5415, "y": 0.7101}, {"x": 0.7348, "y": 0.3628}, {"x": 0.8999, "y": 0.0265}, {"x": 0.6693, "y": 0.087}, {"x": 0.2823, "y": 0.3841}, {"x": 0.106, "y": 0.7412}, {"x": 0.4017, "y": 0.9786}, {"x": 0.5142, "y": 0.5293}, {"x": 0.9106, "y": 0.1034}, {"x": 0.7002, "y": 0.1102}, {"x": 0.4037, "y": 0.2612}, {"x": 0.2147, "y": 0.5341}, {"x": 0.0797, "y": 0.73}, {"x": 0.1727, "y": 0.9004}, {"x": 0.4514, "y": 0.9668}, {"x": 0.5162, "y": 0.6431}, {"x": 0.7138, "y": 0.3691}, {"x": 0.9153, "y": 0.0871}, {"x": 7342, "y": 0.0558}, {"x": 0.5194, "y": 0.1497}, {"x": 0.2421, "y": 0.5088}, {"x": 0.157, "y": 0.7936}, {"x": 0.4866, "y": 0.9549}, {"x": 0.5616, "y": 0.439}, {"x": 0.8849, "y": 0.1822}, {"x": 0.7418, "y": 0.0407}, {"x": 0.5528, "y": 0.129}, {"x": 0.4486, "y": 0.2297}, {"x": 0.4468, "y": 0.2314}, {"x": 0.4462, "y": 0.232}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2324}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4458, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4459, "y": 0.2323}, {"x": 0.4288, "y": 0.2489}, {"x": 0.3497, "y": 0.3186}, {"x": 0.1843, "y": 0.5652}, {"x": 0.1575, "y": 0.7889}, {"x": 0.4942, "y": 0.9507}, {"x": 0.5429, "y": 0.4641}, {"x": 0.8625, "y": 0.2377}, {"x": 0.766, "y": 0.0088}, {"x": 0.5064, "y": 0.1625}, {"x": 0.1669, "y": 0.5846}, {"x": 0.151, "y": 0.8601}, {"x": 0.5368, "y": 0.9009}, {"x": 0.6382, "y": 0.3723}, {"x": 0.8961, "y": 0.1482}, {"x": 0.7933, "y": 0.0002}, {"x": 0.6555, "y": 0.0718}, {"x": 0.5307, "y": 0.1504}, {"x": 0.4469, "y": 0.2313}, {"x": 0.3875, "y": 0.2865}, {"x": 0.255, "y": 0.4976}, {"x": 0.1516, "y": 0.758}, {"x": 0.3572, "y": 0.9998}, {"x": 0.5085, "y": 0.6168}, {"x": 0.6675, "y": 0.3655}, {"x": 0.87, "y": 0.222}, {"x": 0.8834, "y": 0.0218}, {"x": 0.6753, "y": 0.0969}, {"x": 0.5265, "y": 1544}, {"x": 0.4186, "y": 0.2586}, {"x": 0.2862, "y": 0.4491}, {"x": 0.0798, "y": 0.7083}, {"x": 0.1951, "y": 0.9182}, {"x": 0.5444, "y": 0.8823}, {"x": 0.5927, "y": 0.4082}, {"x": 0.8793, "y": 0.198}, {"x": 0.7562, "y": 0.0185}, {"x": 0.4627, "y": 0.2051}, {"x": 0.1482, "y": 0.6073}, {"x": 0.1589, "y": 0.8842}, {"x": 0.5538, "y": 0.8458}, {"x": 0.6818, "y": 0.3672}, {"x": 0.8901, "y": 0.0237}, {"x": 0.6192, "y": 0.0648}, {"x": 0.2818, "y": 0.3862}, {"x": 0.1184, "y": 0.6475}, {"x": 0.1503, "y": 0.8522}, {"x": 0.4915, "y": 0.9523}, {"x": 0.5564, "y": 0.4451}, {"x": 0.8646, "y": 0.2335}, {"x": 0.8137, "y": 0.004}, {"x": 0.6714, "y": 0.0905}, {"x": 0.563, "y": 0.107}, {"x": 0.4804, "y": 0.188}, {"x": 0.4605, "y": 0.2072}, {"x": 0.3102, "y": 0.3499}, {"x": 0.2095, "y": 0.5392}, {"x": 0.1371, "y": 0.7468}, {"x": 0.3644, "y": 0.9994}, {"x": 0.5582, "y": 0.7925}, {"x": 0.6418, "y": 0.3703}, {"x": 0.9144, "y": 0.0908}, {"x": 0.7326, "y": 0.059}, {"x": 0.5592, "y": 0.1229}, {"x": 0.447, "y": 0.2312}, {"x": 0.443, "y": 0.2351}, {"x": 0.443, "y": 0.2351}, {"x": 0.443, "y": 0.2351}, {"x": 0.4422, "y": 0.2359}, {"x": 0.4422, "y": 0.2359}, {"x": 0.4422, "y": 0.2359}, {"x": 0.4422, "y": 0.2359}]
    }
]

async def seed_tracks():
    print("üöÄ Seeding Principal Track Geometries...")
    for track in TRACKS:
        try:
            await save_track_geometry(track)
            print(f"‚úÖ Seeded: {track['name']}")
        except Exception as e:
            print(f"‚ùå Failed to seed {track['name']}: {e}")
    print("‚ú® Seeding Complete. The system will autonomously learn more tracks during live sessions.")

if __name__ == "__main__":
    asyncio.run(seed_tracks())
